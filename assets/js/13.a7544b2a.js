(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{344:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"nsis脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nsis脚本"}},[s._v("#")]),s._v(" nsis脚本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("include LogicLib.nsh\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("include WordFunc.nsh\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("define PRODUCT_VERSION "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.7.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("define PRODUCT_PUBLISHER "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"My company, Inc."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("define PRODUCT_UNINST_KEY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("define PRODUCT_INSTALL_KEY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Software\\Microsoft\\Windows\\CurrentVersion\\Install\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v("\nRequestExecutionLevel admin\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macro customInit\n  Call InitMethods\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macroend\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 内置两种判断方式\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 取决是否想在待安装版本高的情况下也弹出覆盖安装的提示\nFunction InitMethods\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 读取注册表版本号\n  ReadRegStr "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" HKCU "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Version"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 判断版本号是否为空\n  StrCmp "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" isEmpty\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 对比版本号 \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 相等 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 待安装的大 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 已经安装的大\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${VersionCompare}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_VERSION}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$R2")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 提示不用安装\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${If}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$R2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" \n      MessageBox MB_ICONSTOP "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"安装程序检测到 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' 已经安装了更新版本"')]),s._v("\n      Quit\n      Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 提示覆盖安装\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ElseIf}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$R2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n      MessageBox MB_YESNO  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"安装程序检测到 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' 已经安装，是否覆盖安装"')]),s._v(" IDYES Y IDNO N\n      N: \n        Quit\n        Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n      Y:\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 覆盖安装时设置删除标识为 N\n        WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IS_DELETE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"N"')]),s._v("\n        Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 其他 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 直接安装\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${Else}")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 覆盖安装时设置删除标识为 N\n      WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IS_DELETE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"N"')]),s._v("\n      Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${EndIf}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" IntCmp "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$R2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" numbersAreEqual numbersAreNotEqual\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 就提示不用安装\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" numbersAreEqual:\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   MessageBox MB_ICONSTOP "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"安装程序检测到 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' 已经安装了更新版本"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   Quit\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 其他case提示覆盖安装\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" numbersAreNotEqual:\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   MessageBox MB_YESNO  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"安装程序检测到 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(' 已经安装，是否覆盖安装"')]),s._v(" IDYES Y IDNO N\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   N: \n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     Quit\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   Y:\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     Goto "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n  isEmpty:\n    DetailPrint "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version empty"')]),s._v("\n  done:\nFunctionEnd\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 删除数据库文件\nFunction un.DeleteDataBase\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 拼接文件地址\n  StrCpy "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PROFILE")]),t("span",{pre:!0,attrs:{class:"token entity",title:"\\xe"}},[s._v("\\xe")]),s._v('nder"')]),s._v("\n  StrCpy "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database.db"')]),s._v("\n  StrCpy "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v("\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 删除文件\n  Delete "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\nFunctionEnd\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 更新时设置删除标识为 N\nSection "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Update"')]),s._v("\n  WriteRegStr HKCU "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IS_DELETE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"N"')]),s._v("\nSectionEnd\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macro customUnInstall \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 读取标识判断是否删除\n  ReadRegStr "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" HKCU "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IS_DELETE"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${If}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"N"')]),s._v("  \n    Call un.DeleteDataBase\n  "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${EndIf}")]),s._v("\n  DeleteRegKey HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v("\n  ReadRegStr "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  DeleteRegKey HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v("\n  DeleteRegKey HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v("\n  ReadRegStr "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  DeleteRegKey HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macroend\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macro customInstall\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_INSTALL_KEY}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Version"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_VERSION}")]),s._v('"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 根键 子键 项 值\n  DetailPrint "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Register '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v(' URI Handler"')]),s._v("\n  DeleteRegKey HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"URL Protocol"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('\\DefaultIcon"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$INSTDIR")]),s._v("\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${APP_EXECUTABLE_FILENAME}")]),s._v('"')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('\\shell"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v('\\shell\\Open"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n  WriteRegStr HKCU  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${PRODUCT_NAME}")]),s._v("\\shell\\Open"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[s._v("\\c")]),s._v('ommand"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$INSTDIR")]),s._v("\\"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${APP_EXECUTABLE_FILENAME}")]),s._v(' %1"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("macroend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br")])]),t("h2",{attrs:{id:"在打包配置中配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在打包配置中配置"}},[s._v("#")]),s._v(" 在打包配置中配置")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("nsis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否一键安装，建议为 false，可以让用户点击下一步、下一步、下一步的形式安装程序，如果为true，当用户双击构建好的程序，自动安装程序并打开，即：一键安装（one-click installer）")]),s._v("\n  oneClick"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 允许请求提升。 如果为false，则用户必须使用提升的权限重新启动安装程序。")]),s._v("\n  allowElevation"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 允许修改安装目录，建议为 true，是否允许用户改变安装目录，默认是不允许")]),s._v("\n  allowToChangeInstallationDirectory"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// perMachine: true,   //值为布尔类型，代表是否显示辅助安装程序的安装模式安装程序页面（选择按机器还是按用户）。true时代表始终按用户安装")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装图标")]),s._v("\n  installerIcon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build/electron-icon/icon.ico"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 卸载图标")]),s._v("\n  uninstallerIcon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build/electron-icon/icon.ico"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装时头部图标")]),s._v("\n  installerHeaderIcon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build/electron-icon/icon.ico"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建桌面图标")]),s._v("\n  createDesktopShortcut"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建开始菜单图标")]),s._v("\n  createStartMenuShortcut"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  warningsAsErrors"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  include"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"installer_new.nsi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);